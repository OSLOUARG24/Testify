<div class="container">
  <form [formGroup]="subTypeForm" (ngSubmit)="onSubmit()">
      <div class="card">
        <div class="card-header">
          <h3>{{ isEditMode ? 'Actualizar' : 'Crear' }} Subtipo de Escenarios</h3>
        </div>
        <div class="card-body">
          <div class="form-group">
            <label for="type">Tipo</label>
            <select id="type" formControlName="type" class="form-select">
              @for (type of types; track type.id){
              <option [ngValue]="type">{{ type.name }}</option>
              }
            </select>
            @if (subTypeForm.get('type')?.invalid && subTypeForm.get('type')?.touched) {
              <div class="error">
                El tipo es obligatorio.
              </div>
            }
          </div>
          <div class="form-group">
            <label for="name">Nombre *</label>
            <input id="name" formControlName="name" class="form-control" type="text" placeholder="Ingresa el nombre" />
            @if(subTypeForm.get('name')?.invalid && subTypeForm.get('name')?.touched){
            <div class="error">
              El nombre es obligatorio.
            </div>
            }
          </div>
        </div>
    <div class="card-footer">
      <div class="form-group d-flex justify-content-end">
        <button type="submit" class="btn btn-primary" [disabled]="subTypeForm.invalid">
          <span class="oi oi-check"></span>
          {{ isEditMode ? 'Actualizar' : 'Crear' }} Subtipo de Escenarios
        </button>
        <button type="button" class="btn btn-secondary" (click)="cancel()">
        <span class="oi oi-x"></span>
        Cancelar
        </button>
      </div>
    </div>
      </div>
  </form>
  @if (errorMessage){
  <div class="text-danger">
    {{ errorMessage }}
  </div>
  }
</div>
