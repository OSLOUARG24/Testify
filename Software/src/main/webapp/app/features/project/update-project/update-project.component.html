<div class="container">
  <form [formGroup]="projectForm" (ngSubmit)="onSubmit()">
    <div class="card">
        <div class="card-header">
           <h3>{{ isEditMode ? 'Actualizar' : 'Crear' }} Proyecto</h3>
        </div>
        <div class="card-body">
          <div class="form-group">
            <label for="name">Nombre</label>
            <input id="name" class="form-control" formControlName="name" type="text" placeholder="Ingresa el nombre del proyecto" />
            @if (projectForm.get('name')?.invalid && projectForm.get('name')?.touched) {
            <div class="error">
              El nombre es obligatorio.
            </div>
            }
          </div>
          <div class="form-group">
            <label for="rateApproval">Tasa de Aprobación</label>
            <input id="rateApproval" class="form-control" formControlName="rateApproval" type="text" placeholder="Ingresa una tasa de Aprobacion" />
            @if (projectForm.get('rateApproval')?.invalid && projectForm.get('rateApproval')?.touched) {
            <div class="error">
              La descripción debe ser numerica.
            </div>
            }
          </div>

          <div class="form-group">
            <label for="status">Estado del Proyecto</label>
            <select id="status" class="form-select" formControlName="status">
              <option [value]="projectStatuses.PENDIENTE">Pendiente</option>
              <option [value]="projectStatuses.EN_PROCESO">En Proceso</option>
              <option [value]="projectStatuses.FINALIZADO">Finalizado</option>
            </select>
          </div>
        </div>
        <div class="card-footer">
          <div class="form-group d-flex justify-content-end">
          <button type="submit" class="btn btn-outline-success" [disabled]="projectForm.invalid">
          <span class="oi oi-check"></span>
            {{ isEditMode ? 'Actualizar' : 'Crear' }} Proyecto
          </button>
          <button type="button" class="btn btn-outline-danger" (click)="cancel()">
          <span class="oi oi-x"></span>
          Cancelar
          </button>
          </div>
        </div>
    </div>
  </form>
</div>
